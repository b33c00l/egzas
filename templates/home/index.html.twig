{% extends 'base.html.twig' %}

{% block title %}Index{% endblock %}

{% block body %}
    <h1 class="text-center mb-3">Home Page</h1>
    {% for post in posts %}
        <div class="row">
            <div class="col-12 text-center">
                <a href="{{ path('show', {'id': post.id}) }}">
                    <h5>{{ post.title }}</h5>
                </a>
            </div>
            <div class="col-3 singleAd">
                {% if app.user.username == post.user.username %}
                    <a href="{{ path('post_index') }}">
                        <p><i>Posted by:{{ post.user.username }}</i></p>
                    </a>
                {% else %}
                    <p><i>Posted by:{{ post.user.username }}</i></p>
                {% endif %}
                <p><i>Post date: {{ post.date ? post.date|date('Y-m-d H:i:s') : '' }}</i></p>
            </div>
            <div class="col-9 singleAd">
                <p>Description: {{ post.description }}</p>
            </div>
        </div>
    {% else %}
        <p>no records found</p>
    {% endfor %}
    <nav class="mt-3">
        <ul class="pagination justify-content-center">
            {% for page in 1..pages %}
                <a class="page-link" href="{{ path('home', {'page':page}) }}">{{ page }}</a>
            {% endfor %}
        </ul>
    </nav>
{% endblock %}